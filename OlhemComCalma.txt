package Projeto;

import java.util.InputMismatchException;
import java.util.Scanner;

public class Sistema {

    private static int codigoUsuario = 1000;
    private static int contadorAluno = 0;
    private static int contadorAdministrador = 0;
    private static int contadorProfessor = 0;
    private static int contadorCurso = 0;

    private Aluno[] alunos = new Aluno[1000];
    private Administrador[] administradores = new Administrador[100];
    private Professor[] professoresSistema = new Professor[100];
    private Curso[] cursos = new Curso[100];

    Scanner teclado = new Scanner(System.in);

    public Sistema() {
        Aluno aluno1 = new Aluno("Joao", 99997, "joao@.com", "joao", "aluno", "44412345810");
        Aluno aluno2 = new Aluno("Pedro", 99992, "pedro@.com", "pedro", "aluno", "44412145810");
        Administrador administrador = new Administrador("Admin", 99999, "admin@.com", "admin", "administrador");
        Professor professor1 = new Professor("Mario", 99998, "mario@.com", "mario", "professor");
        Professor professor2 = new Professor("Mauro", 99991, "mauro@.com", "mauro", "professor");
        Curso curso = new Curso("Matemática Básica", "MAT", 40, "...", "01/01/2024", "01/11/2024", "14h - 16h, quarta e sexta", professor1);
        
        setAdministrador(administrador);
        setAluno(aluno1);
        setAluno(aluno2);
        setProfessoresSistema(professor1);
        setProfessoresSistema(professor2);
        setCurso(curso);
        AdicionaCargaHorariaProfessor(0);
    }

    public void GerarAdministrador(String nome, String email, String senha) {
        int codigoUsuario = GerarCodigoUsuario();
        Administrador administrador = new Administrador(nome, codigoUsuario, email, senha, "administrador");
        setAdministrador(administrador);
        System.out.println("Conta Criada com Sucesso!");
        GeraArquivo.criarArquivoUsuario(administrador);
    }

    public void GerarProfessor(String nome, String email, String senha) {
        int codigoUsuario = GerarCodigoUsuario();
        Professor professor = new Professor(nome, codigoUsuario, email, senha, "professor");
        setProfessoresSistema(professor);
        System.out.println("Conta Criada com Sucesso!");
        GeraArquivo.criarArquivoUsuario(professor);
    }

    public void GerarCurso(String nomeCurso, String codigoCurso, int cargaHoraria, String ementa, String dateInicio, String dateFim, String horario, Professor professor, int idProfessor) {
        if (veficaCargaProfessor(idProfessor, cargaHoraria)) {
            Curso curso = new Curso(nomeCurso, codigoCurso, cargaHoraria, ementa, dateInicio, dateFim, horario, professor);
            setCurso(curso);
            AdicionaCargaHorariaProfessor(contadorCurso);
            System.out.println("Curso Criado com Sucesso!");
            GeraArquivo.criarArquivoCurso(nomeCurso, codigoCurso, ementa, dateInicio, dateFim, horario, cargaHoraria, professor, curso.getAlunosMatriculados(), curso.getQuantidadeAtualAlunos());
        } else {
            System.out.println("Esse professor não pode mais receber disciplinas!");
        }
    }

    public void setAluno(Aluno aluno) {
        this.alunos[contadorAluno] = aluno;
        contadorAluno++;
    }

    public Aluno getAluno(int i) {
        return alunos[i];
    }

    public void setAdministrador(Administrador administrador) {
        this.administradores[contadorAdministrador] = administrador;
        contadorAdministrador++;
    }

    public Administrador getAdministrador(int i) {
        return administradores[i];
    }

    public void setProfessoresSistema(Professor professor) {
        this.professoresSistema[contadorProfessor] = professor;
        contadorProfessor++;
    }

    public Professor getProfessoresSistema(int i) {
        return professoresSistema[i];
    }

    public void setCurso(Curso curso) {
        this.cursos[contadorCurso] = curso;
        contadorCurso++;
    }

    public Curso getCurso(int i) {
        return cursos[i];
    }

    // Métodos para fazer os logins
    public void fazerLoginUsuarioAluno(String email, String senha) {
        for (int indiceAlunos = 0; indiceAlunos < contadorAluno; indiceAl unos++) {
            if (VerificaVariaveis(getAluno(indiceAlunos).getEmail(), email) && 
                VerificaVariaveis(getAluno(indiceAlunos).getSenhaPessoal(), senha) && 
                VerificaVariaveis(getAluno(indiceAlunos).getNivelAcesso(), "aluno")) {
                MenuAluno(indiceAlunos);
                return;
            }
        }
        System.out.println("Email ou senha Incorretos!");
    }

    public void fazerLoginUsuarioAdministrador(String email, String senha) {
        for (int indiceAdministradores = 0; indiceAdministradores < contadorAdministrador; indiceAdministradores++) {
            if (VerificaVariaveis(getAdministrador(indiceAdministradores).getEmail(), email) && 
                VerificaVariaveis(getAdministrador(indiceAdministradores).getSenhaPessoal(), senha) && 
                VerificaVariaveis(getAdministrador(indiceAdministradores).getNivelAcesso(), "administrador")) {
                MenuAdministrador(indiceAdministradores);
                return;
            }
        }
        System.out.println("Email ou senha Incorretos!");
    }

    public void fazerLoginUsuarioProfessor(String email, String senha) {
        for (int indiceProfessores = 0; indiceProfessores < contadorProfessor; indiceProfessores++) {
            if (VerificaVariaveis(getProfessoresSistema(indiceProfessores).getEmail(), email) && 
                VerificaVariaveis(getProfessoresSistema(indiceProfessores).getSenhaPessoal(), senha) && 
                VerificaVariaveis(getProfessoresSistema(indiceProfessores).getNivelAcesso(), "professor")) {
                MenuProfessor(indiceProfessores);
                return;
            }
        }
        System.out.println("Email ou senha Incorretos!");
    }

    public boolean VerificaVariaveis(String variavel1, String variavel2) {
        return variavel1.equals(variavel2);
    }

    public int GerarCodigoUsuario() {
        return ++codigoUsuario;
    }

    public void criarContaAluno() {
        String nome, cpf, email, senha, confirmaSenha;
        boolean controle = false;
        int codigoUsuario;

        System.out.println("\nSISTEMA DE GESTÃO DE CURSOS\n\n");
        System.out.print("====================\nCADASTRO ALUNO\n====================\n\n");
        System.out.print("CPF (apenas números): ");
        cpf = teclado.nextLine();
        if (cpf.matches("[0-9]+") && cpf.length() == 11) {
            System.out.print("Nome completo: ");
            nome = teclado.nextLine();
            System.out.print("Digite seu Email: ");
            email = teclado.nextLine();
            if (email.matches("(.*)@(.*).com")) {
                if (VerificaCPF(cpf)) {
                    do {
                        System.out.print("Senha: ");
                        senha = teclado.nextLine();
                        System.out.print("Confirme a senha: ");
                        confirmaSenha = teclado.nextLine();
                        if (VerificaVariaveis(senha, confirmaSenha)) {
                            controle = true;
                            codigoUsuario = GerarCodigoUsuario();
                            Aluno aluno = new Aluno(nome, codigoUsuario, email, senha, "aluno", cpf);
                            setAluno(aluno);
                            System.out.println("Conta Criada com Sucesso!");
                        } else {
                            System.out.println("A senha não é igual! Tente Novamente!");
                        }
                    } while (!controle);
                } else {
                    System.out.println("Já existe um usuário cadastrado com esse CPF!");
                }
            } else {
                System.out.println("Formato do email inválido, tente novamente.");
            }
        } else {
            System.out.println("Formato do CPF inválido, tente novamente.");
        }
    }

    public void MenuAluno(int idAluno) {
        int escolha = 0;

        do {
            try {
                System.out.println("\n===========================\nSISTEMA DE GESTÃO DE CURSOS\n===========================\n");
                System.out.println("MENU DO ALUNO\n");
                System.out.println("Bem vindo: " + getAluno(idAluno).getNome() + "\n");
                System.out.println("    1 - Consultar seus Dados.");
                System.out.println("    2 - Consultar Cursos disponíveis.");
                System.out.println("    3 - Se matricular em Cursos disponíveis.");
                System.out.println("    4 - Cancelar matricula em um curso.");
                System.out.println("    5 - Obter o certificado de conclusão de um curso");
                System.out.println("    6 - Sair.");
                System.out.print("\nSelecione uma opção: ");

                escolha = Integer.parseInt(teclado.nextLine());

                switch (es colha) {
                    case 1:
                        Menu.limpaTela();
                        DadosAluno(idAluno);
                        break;
                    case 2:
                        Menu.limpaTela();
                        CursosDisponiveisAluno();
                        break;
                    case 3:
                        Menu.limpaTela();
                        MatricularCurso(idAluno);
                        break;
                    case 4:
                        // Implementar lógica para cancelar matrícula
                        break;
                    case 5:
                        Menu.limpaTela();
                        // Implementar lógica para obter certificado
                        break;
                    case 6:
                        Menu.limpaTela();
                        return;
                    default:
                        System.out.print("\nOpção inválida, tente novamente.");
                        break;
                }
            } catch (NumberFormatException numberFormatException) {
                System.out.print("\nEntrada inválida, tente novamente.");
                teclado.nextLine();
            }
        } while (escolha != 6);
    }

    public void DadosAluno(int idAluno) {
        System.out.println("Nome: " + getAluno(idAluno).getNome());
        System.out.println("Codigo do Usuário: " + getAluno(idAluno).getCodigoUsuario());
        System.out.println("Email: " + getAluno(idAluno).getEmail());
        System.out.println("CPF: " + getAluno(idAluno).getCPF());
    }

    public void CursosDisponiveisAluno() {
        for (int indiceCursos = 0; indiceCursos < contadorCurso; indiceCursos++) {
            if (getCurso(indiceCursos).getStatus() && VerificaQuantidadeAlunosMatriculados(indiceCursos)) {
                System.out.println("\nNome do curso: " + getCurso(indiceCursos).getNomeCurso());
                System.out.println("Código do curso: " + getCurso(indiceCursos).getCodigoCurso());
                System.out.println("Carga Horária do curso: " + getCurso(indiceCursos).getCargaHorariaCurso() + " Horas");
                System.out.println("Ementa do curso: " + getCurso(indiceCursos).getEmenta());
                System.out.println("Data Inicial do curso: " + getCurso(indiceCursos).getDateInicio());
                System.out.println("Data Final do curso: " + getCurso(indiceCursos).getDateFim());
                System.out.println("Professor do curso: " + getCurso(indiceCursos).getProfessor().getNome());
                System.out.println("Horários e dias do curso: " + getCurso(indiceCursos).getHorario());
            }
        }
    }

    public void MatricularCurso(int idAluno) {
        String codigo;

        CursosDisponiveisAluno();

        System.out.println("Digite o código do curso: ");
        codigo = teclado.nextLine();

        for (int indiceCursos = 0; indiceCursos < contadorCurso; indiceCursos++) {
            if (VerificaVariaveis(getCurso(indiceCursos).getCodigoCurso(), codigo)) {
                if (getCurso(indiceCursos).getStatus() && VerificaQuantidadeAlunosMatriculados(indiceCursos)) {
                    getCurso(indiceCursos).setAlunosMatriculados(getAluno(idAluno));
                    System.out.println("Matricula feita com sucesso!");
                    return;
                } else {
                    System.out.println("Esse curso está lotado ou não está disponível, não foi possível se matricular!");
                    return;
                }
            }
        }
    }

    public boolean VerificaQuantidadeAlunosMatriculados(int indiceCurso) {
        return getCurso(indiceCurso).getQuantidadeAtualAlunos() < getCurso(indiceCurso).getQuantidadeMaximaAlunos();
    }

    public boolean VerificaCPF(String cpf) {
        for (int indiceAlunos = 0; indiceAlunos < contadorAluno; indiceAlunos++) {
            if (VerificaVariaveis(getAluno(indiceAlunos).getCPF(), cpf)) {
                return false;
            }
        }
        return true;
    }

    public void MenuAdministrador(int i) {
        int escolha = 0;

        do {
            try {
                System.out.println("\n===========================\nSISTEMA DE GESTÃO DE CURSOS\n===========================\n");
                System.out.println("MENU DO ADMINISTRADOR\n");
                System.out.println("Bem vindo: " + getAdministrador(i).getNome() + "\n");
                System.out.println("    1 - Cadastrar novo curso");
                System.out.println("    2 - Mostrar cursos cadastrados");
                System.out.println("    3 - Editar um curso cadastrado");
                System.out.println("    4 - Habilitar um curso cadastrado");
                System.out.println("    5 - Desabilitar um curso cadastrado");
                System.out.println("    6 - Cadastrar um novo Administrador");
                System.out.println("     ```java
                System.out.println("    7 - Cadastrar professor");
                System.out.println("    8 - Fazer logout");
                System.out.print("\nSelecione uma opção: ");
                escolha = Integer.parseInt(teclado.nextLine());
                switch (escolha) {
                    case 1:
                        Menu.limpaTela();
                        FormulariocadastrarCurso();
                        break;
                    case 2:
                        Menu.limpaTela();
                        DadosCursoAdministrativo();
                        break;
                    case 3:
                        Menu.limpaTela();
                        EditarCurso();
                        break;
                    case 4:
                        Menu.limpaTela();
                        HabilitarCurso();
                        break;
                    case 5:
                        Menu.limpaTela();
                        DesabilitarCurso();
                        break;
                    case 6:
                        Menu.limpaTela();
                        FormularioCadastroAdministrador();
                        break;
                    case 7:
                        Menu.limpaTela();
                        FormulariocadastroProfessor();
                        break;
                    case 8:
                        Menu.limpaTela();
                        return;
                    default:
                        System.out.print("\nOpção inválida, tente novamente.");
                        break;
                }
            } catch (NumberFormatException numberFormatException) {
                System.out.print("\nEntrada inválida, tente novamente.");
                teclado.nextLine();
            }
        } while (escolha != 8);
    }

    public void FormularioCadastroAdministrador() {
        String nome, email, senha, confirmaSenha;
        boolean controle = false;

        System.out.print("====================\nCADASTRO ADMINISTRADOR\n====================\n\n");
        System.out.print("Nome completo: ");
        nome = teclado.nextLine();
        System.out.print("Digite seu Email: ");
        email = teclado.nextLine();
        do {
            System.out.print("Senha: ");
            senha = teclado.nextLine();
            System.out.print("Confirme a senha: ");
            confirmaSenha = teclado.nextLine();
            if (VerificaVariaveis(senha, confirmaSenha)) {
                controle = true;
                CadastrarAdministrador(nome, email, senha);
            } else {
                System.out.println("A senha não é igual! Tente Novamente!");
            }
        } while (!controle);
    }

    public void CadastrarAdministrador(String nome, String email, String senha) {
        int codigoUsuario = GerarCodigoUsuario();
        Administrador administrador = new Administrador(nome, codigoUsuario, email, senha, "administrador");
        setAdministrador(administrador);
        System.out.println("Conta Criada com Sucesso!");
    }

    public void FormulariocadastroProfessor() {
        String nome, email, senha, confirmaSenha;
        boolean controle = false;

        System.out.print("====================\nCADASTRO DE PROFESSOR\n====================\n\n");
        System.out.print("Nome do professor: ");
        nome = teclado.nextLine();
        System.out.print("Endereço de email do professor: ");
        email = teclado.nextLine();
        do {
            System.out.print("Senha: ");
            senha = teclado.nextLine();
            System.out.print("Confirme a senha: ");
            confirmaSenha = teclado.nextLine();
            if (VerificaVariaveis(senha, confirmaSenha)) {
                controle = true;
                CadastrarProfessor(nome, email, senha);
            } else {
                System.out.println("As senhas não são iguais! Tente Novamente!");
            }
        } while (!controle);
    }

    public void CadastrarProfessor(String nome, String email, String senha) {
        int codigoUsuario = GerarCodigoUsuario();
        Professor professor = new Professor(nome, codigoUsuario, email, senha, "professor");
        setProfessoresSistema(professor);
        System.out.println("Conta Criada com Sucesso!");
    }

    public void FormulariocadastrarCurso() {
        String nome, codigo, ementa, dateInicio, dateFim, horario;
        int cargaHoraria, escolhaProfessor;
        boolean exception;

        do {
            try {
                exception = false;
                Menu.limpaTela();
                if (getProfessoresSistema(0) != null) {
                    System.out.print("====================\nCADASTRO DE CURSO\n====================\n\n");
                    System.out.print("Nome do curso: ");
                    nome = teclado.nextLine();
                    System.out.print("Código do curso: ");
                    codigo = teclado.nextLine();
                    System.out.print("Ementa do curso: ");
                    ementa = teclado.nextLine();
                    System.out.print("Data de inicio do curso: ");
                    dateInicio = teclado.nextLine();
                    System.out.print("Data final do curso: ");
                    dateFim = teclado.nextLine();
                    System.out.print("Horários e dias: ");
                    horario = teclado.nextLine();
                    System.out.print("Carga horária do curso : ");
                    cargaHoraria = teclado.nextInt();
                    teclado.nextLine();
                    System.out.println("Escolha um professor:");
                    System.out.println("Indice do Professor: " + "  " + "Nome: ");
                    for (int indiceProfessores = 0; indiceProfessores < contadorProfessor; indiceProfessores++) {
                        if (getProfessoresSistema(indiceProfessores).getCargaHorariaAtual() != getProfessoresSistema(indiceProfessores).getCargaHorariaMaxima()) {
                            System.out.println(indiceProfessores + " " + getProfessoresSistema(indiceProfessores).getNome());
                        }
                    }
                    System.out.print("Digite o número do professor acima: ");
                    escolhaProfessor = teclado.nextInt();
                    teclado.nextLine();
                    CadastrarCurso(nome, codigo, cargaHoraria, ementa, dateInicio, dateFim, horario, getProfessoresSistema(escolhaProfessor), escolhaProfessor);
                } else {
                    System.out.println("Não há professores cadastrados!");
                }
            } catch (InputMismatchException inputMismatchException) {
                exception = true;
                System.out.print("\nEntrada inválida, tente novamente.\n");
                teclado.nextLine();
            }
        } while (exception);
    }

    public void CadastrarCurso(String nome, String codigo, int cargaHoraria, String ementa, String dateInicio, String dateFim, String horario, Professor professor, int idProfessor) {
        if (veficaCargaProfessor(idProfessor, cargaHoraria)) {
            Curso curso = new Curso(nome, codigo, cargaHoraria, ementa, dateInicio, dateFim, horario, professor);
            AdicionaCargaHorariaProfessor(contadorCurso);
            setCurso(curso);
            System.out.println("Curso Criado com Sucesso!");
        } else {
            System.out.println("Esse professor não pode mais receber disciplinas!");
        }
    }

    public void DadosCursoAdministrativo() {
        for (int i = 0; i < contadorCurso; i++) {
            System.out.println("Nome: " + getCurso(i).getNomeCurso());
            System.out.println("Código Curso: " + getCurso(i).getCodigoCurso());
            System.out.println("Carga Horária: " + getCurso(i).getCargaHorariaCurso());
            System.out.println("Ementa: " + getCurso(i).getEmenta());
            System.out.println("Data Inicio: " + getCurso(i).getDateInicio());
            System.out.println("Data Fim: " + getCurso(i).getDateFim());
            System.out.println("Quantidade de Alunos Matriculados: " + getCurso(i).getQuantidadeAtualAlunos());
            System.out.println("Horários: " + getCurso(i).getHorario());
            System.out.println("Professor do curso: " + getCurso(i).getProfessor().getNome());
            System.out.println("Status do Curso: " + (getCurso(i).getStatus() ? "Ativo" : "Desativado"));
            System.out.println();
        }
    }

    public void HabilitarCurso() {
        String codigo;

        DadosCursoAdministrativo();
        System.out.println("Digite o Código do curso: ");
        codigo = teclado.nextLine();
        for (int i = 0; i < contadorCurso; i++) {
            if (VerificaVariaveis(getCurso(i).getCodigoCurso(), codigo)) {
                if (!getCurso(i).getStatus()) {
                    getCurso(i).setStatus(true);
                    AdicionaCargaHorariaProfessor(i);
                    System.out.println("Curso habilitado");
                    return;
                } else {
                    System.out.println("Esse curso já está habilitado!");
                    return;
                }
            }
        }
    }

    public void DesabilitarCurso() {
        String codigo;

        DadosCursoAdministrativo();
        System.out.println("Digite o Código do curso: ");
        codigo = teclado.nextLine();
        for (int i = 0; i < contadorCurso; i++) {
            if (VerificaVariaveis(getCurso(i).getCodigoCurso(), codigo)) {
                if (getCurso(i).getStatus()) {
                    getCurso(i).setStatus(false);
                    RetiraCargaHorariaProfessor(i);
                    System.out.println("Curso desabilitado");
                    return;
                } else {
                    System.out.println("Esse curso já está desabilitado!");
                    return;
                }
            }
        }
    }

    public void EditarCurso() {
        String codigo;
        int opcao;

        DadosCursoAdministrativo();
        System.out.println("Digite o Código do curso: ");
        codigo = teclado.nextLine();
        for (int indiceCursos = 0; indiceCursos < contadorCurso; indiceCursos++) {
            if (Verifica Variaveis(getCurso(indiceCursos).getCodigoCurso(), codigo)) {
                System.out.println("1 - Nome: " + getCurso(indiceCursos).getNomeCurso());
                System.out.println("2 - Código Curso: " + getCurso(indiceCursos).getCodigoCurso());
                System.out.println("3 - Carga Horária: " + getCurso(indiceCursos).getCargaHorariaCurso());
                System.out.println("4 - Ementa: " + getCurso(indiceCursos).getEmenta());
                System.out.println("5 - Data Inicio: " + getCurso(indiceCursos).getDateInicio());
                System.out.println("6 - Data Fim: " + getCurso(indiceCursos).getDateFim());
                System.out.println("7 - Horários: " + getCurso(indiceCursos).getHorario());
                System.out.println("8 - Professor do curso: " + getCurso(indiceCursos).getProfessor().getNome());
                System.out.println();
                System.out.println("Escolha uma opção para editar: ");
                opcao = teclado.nextInt();
                teclado.nextLine();
                Menu.limpaTela();
                switch (opcao) {
                    case 1:
                        System.out.println("Digite o novo nome do curso: ");
                        String novoNome = teclado.nextLine();
                        getCurso(indiceCursos).setNomeCurso(novoNome);
                        System.out.println("Modificado com sucesso!");
                        return;
                    case 2:
                        System.out.println("Digite o novo Código do curso: ");
                        String novoCodigo = teclado.nextLine();
                        getCurso(indiceCursos).setCodigoCurso(novoCodigo);
                        System.out.println("Modificado com sucesso!");
                        return;
                    case 3:
                        System.out.println("Digite a nova Carga Horária do curso: ");
                        int novaCargaHoraria = teclado.nextInt();
                        teclado.nextLine();
                        getCurso(indiceCursos).setCargaHorariaCurso(novaCargaHoraria);
                        System.out.println("Modificado com sucesso!");
                        return;
                    case 4:
                        System.out.println("Digite a nova Ementa do curso: ");
                        String novaEmenta = teclado.nextLine();
                        getCurso(indiceCursos).setEmenta(novaEmenta);
                        System.out.println("Modificado com sucesso!");
                        return;
                    case 5:
                        System.out.println("Digite a nova Data de Inicio do curso: ");
                        String novaDataInicio = teclado.nextLine();
                        getCurso(indiceCursos).setDateInicio(novaDataInicio);
                        System.out.println("Modificado com sucesso!");
                        return;
                    case 6:
                        System.out.println("Digite a nova Data de finalização do curso: ");
                        String novaDataFim = teclado.nextLine();
                        getCurso(indiceCursos).setDateFim(novaDataFim);
                        System.out.println("Modificado com sucesso!");
                        return;
                    case 7:
                        System.out.println("Digite os novos Horários do curso: ");
                        String novosHorarios = teclado.nextLine();
                        getCurso(indiceCursos).setHorario(novosHorarios);
                        System.out.println("Modificado com sucesso!");
                        return;
                    case 8:
                        System.out.println("Escolha um professor abaixo: ");
                        System.out.println("Indice do Professor: " + "  " + "Nome: ");
                        for (int indiceProfessor = 0; indiceProfessor < contadorProfessor; indiceProfessor++) {
                            if (getProfessoresSistema(indiceProfessor).getCargaHorariaAtual() != getProfessoresSistema(indiceProfessor).getCargaHorariaMaxima()) {
                                System.out.println(indiceProfessor + " " + getProfessoresSistema(indiceProfessor).getNome());
                            }
                        }
                        System.out.print("Digite o número do professor acima: ");
                        int escolhaProfessor = teclado.nextInt();
                        teclado.nextLine();
                        getCurso(indiceCursos).setProfessor(getProfessoresSistema(escolhaProfessor));
                        AdicionaCargaHorariaProfessor(indiceCursos);
                        RetiraCargaHorariaProfessor(indiceCursos);
                        return;
                    default:
                        System.out.println("Opção inválida, tente novamente.");
                        break;
                }
            }
        }
    }

    public void MenuProfessor(int idProfessor) {
        int escolha = 0;

        do {
            try {
                System.out.println("\n===========================\nSISTEMA DE GESTÃO DE CURSOS\n===========================\n");
                System.out.print("MENU DO PROFESSOR\n");
                System.out.println("Bem vindo: " + getProfessoresSistema(idProfessor).getNome() + "\n");
                System.out.println("    1 - Consultar seus Dados.");
                System.out.println("    2 - Consultar os Cursos em que você é o responsável.");
                System.out.println("     System.out.println("    3 - Adicionar notas de alunos de um curso e encerra o curso."); 
                System.out.println("    4 - Sair.");
                System.out.print("\nSelecione uma opção: ");
                escolha = Integer.parseInt(teclado.nextLine());
                switch (escolha) {
                    case 1:
                        Menu.limpaTela();
                        DadosProfessor(idProfessor);
                        break;
                    case 2:
                        Menu.limpaTela();
                        CursosProfessor(idProfessor);
                        break;
                    case 3:
                        Menu.limpaTela();
                        AdicionarNotas(idProfessor);
                        break;
                    case 4:
                        Menu.limpaTela();
                        return;
                    default:
                        System.out.print("\nOpção inválida, tente novamente.");
                        break;
                }
            } catch (NumberFormatException numberFormatException) {
                System.out.print("\nEntrada inválida, tente novamente.");
                teclado.nextLine();
            }
        } while (escolha != 4);
    }

    public void DadosProfessor(int idProfessor) {
        System.out.println("Nome: " + getProfessoresSistema(idProfessor).getNome());
        System.out.println("Codigo do Usuário: " + getProfessoresSistema(idProfessor).getCodigoUsuario());
        System.out.println("Email: " + getProfessoresSistema(idProfessor).getEmail());
        System.out.println("Carga Horária Atual: " + getProfessoresSistema(idProfessor).getCargaHorariaAtual());
    }

    public boolean veficaCargaProfessor(int idProfessor, int cargaHoraria) {
        return getProfessoresSistema(idProfessor).getCargaHorariaAtual() + cargaHoraria <= getProfessoresSistema(idProfessor).getCargaHorariaMaxima();
    }

    public void RetiraCargaHorariaProfessor(int idCurso) {
        getCurso(idCurso).getProfessor().setCargaHorariaAtual(getCurso(idCurso).getProfessor().getCargaHorariaAtual() - getCurso(idCurso).getCargaHorariaCurso());
    }

    public void AdicionaCargaHorariaProfessor(int idCurso) {
        getCurso(idCurso).getProfessor().setCargaHorariaAtual(getCurso(idCurso).getProfessor().getCargaHorariaAtual() + getCurso(idCurso).getCargaHorariaCurso());
    }

    public void CursosProfessor(int idProfessor) {
        for (int indiceCursos = 0; indiceCursos < contadorCurso; indiceCursos++) {
            if (getCurso(indiceCursos).getProfessor() == getProfessoresSistema(idProfessor)) {
                System.out.println("\nNome: " + getCurso(indiceCursos).getNomeCurso());
                System.out.println("Código Curso: " + getCurso(indiceCursos).getCodigoCurso());
                System.out.println("Carga Horária: " + getCurso(indiceCursos).getCargaHorariaCurso());
                System.out.println("Ementa: " + getCurso(indiceCursos).getEmenta());
                System.out.println("Data Inicio: " + getCurso(indiceCursos).getDateInicio());
                System.out.println("Data Fim: " + getCurso(indiceCursos).getDateFim());
                System.out.println("Quantidade de Alunos Matriculados: " + getCurso(indiceCursos).getQuantidadeAtualAlunos());
                System.out.println("Horários: " + getCurso(indiceCursos).getHorario());
                System.out.println("Status do Curso: " + (getCurso(indiceCursos).getStatus() ? "Ativo" : "Desativado"));
            }
        }
    }

    public void AdicionarNotas(int idProfessor) {
        String codigo;
        double nota;

        CursosProfessor(idProfessor);
        System.out.print("Digite o Código do curso: ");
        codigo = teclado.nextLine();
        for (int indiceCursos = 0; indiceCursos < contadorCurso; indiceCursos++) {
            if (VerificaVariaveis(getCurso(indiceCursos).getCodigoCurso(), codigo)) {
                for (int indiceAlunos = 0; indiceAlunos < getCurso(indiceCursos).getQuantidadeAtualAlunos(); indiceAlunos++) {
                    if (getCurso(indiceCursos).getNota(indiceAlunos) == 0) {
                        System.out.println("Nome: " + getCurso(indiceCursos).getAlunosMatriculados(indiceAlunos).getNome());
                        System.out.println("Código Usuário: " + getCurso(indiceCursos).getAlunosMatriculados(indiceAlunos).getCodigoUsuario());
                        System.out.print("Digite a nota do Aluno acima: ");
                        nota = teclado.nextDouble();
                        getCurso(indiceCursos).setNota(indiceAlunos, nota);
                        System.out.println("A nota do aluno acima é: " + getCurso(ind iceCursos).getNota(indiceAlunos));
                    }
                }
                getCurso(indiceCursos).setStatus(false);
                System.out.println("Todas as notas de todos os alunos foram cadastradas!");
                System.out.println("O curso foi encerrado!");
                return;
            }
        }
    }
}